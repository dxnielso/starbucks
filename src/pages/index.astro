---
// Components
import MainLayout from "../layouts/MainLayout.astro";
import Card from "../components/Card.astro";
import Button from "../components/Button.astro";

// Data
import data from "../data/indexData.json";

// Types
import {IndexData} from '../types/types';
---

<MainLayout pageTitle="Homepage">
  <main class="flex flex-col gap space-y-5 mb-5 xl:px-[100px] 2xl:px-[250px]">
  {
      data.map((a: IndexData, index) => {
        if (index < data.length - 2) {
          return (
            <Card
              image={a.image}
              title={a.title}
              description={a.description}
              footer={a.footer}
              button={a.button}
              bgColor={a.bgColor}
              color={a.color}
              border={a.border}
              invertir={a.invertir}
            />
          );
        }
        return;
      })
    }
    <div class="flex flex-col md:flex-row w-full space-y-5 md:space-y-0 md:space-x-5">
      <!-- First card -->
      <div
        class={`w-full md:w-1/2 h-fit flex flex-col md:items-center ${
          data[data.length - 2].bgColor
        } ${data[data.length - 2].color}`}
      >
        <figure class="md:w-full">
          <img
            src={data[data.length - 2].image.source}
            alt={data[data.length - 2].image.alt}
          />
        </figure>
        <div class="w-full h-full px-8 py-6 flex justify-center items-center">
          <div class="text-center h-max">
            <p class="text-base font-normal mb-5">
              {data[data.length - 2].description}
            </p>
            <Button
              button={data[data.length - 2].button}
              border={data[data.length - 2].border}
              color={data[data.length - 2].color}
            />
          </div>
        </div>
      </div>
      
      <!-- Second card -->
      <div
        class={`w-full md:w-1/2 h-fit flex flex-col md:items-center ${
          data[data.length - 1].bgColor
        } ${data[data.length - 1].color}`}
      >
        <div class="md:w-full">
          <img
            src={data[data.length - 1].image.source}
            alt={data[data.length - 1].image.alt}
          />
        </div>
        <div class="w-full h-full px-8 py-6 flex justify-center items-center">
          <div class="text-center h-max">
            <p class="text-base font-normal mb-5">
              {data[data.length - 1].description}
            </p>
            <Button
              button={data[data.length - 1].button}
              border={data[data.length - 1].border}
              color={data[data.length - 1].color}
            />
          </div>
        </div>
      </div>
    </div>
  </main>
</MainLayout>
